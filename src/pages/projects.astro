---
import { getCollection } from "astro:content";
import PageLayout from "@layouts/PageLayout.astro";
import ProjectCollection from "@features/projects/components/ProjectCollection.astro";

const [freelance, student, work] = await getCollection("projects");
---

<PageLayout title="Projects" meta={{ title: "Projects" }}>
  <ProjectCollection
    color="blue"
    title={work.data.title}
    introduction={work.data.introduction}
    projects={work.data.projects.map((project) => ({
      title: project.title,
      description: project.description,
      startDate: project.startDate,
      endDate: project.endDate,
      slug: project.slug,
    }))}
  />
  <ProjectCollection
    color="red"
    title={freelance.data.title}
    introduction={freelance.data.introduction}
    cta={freelance.data.cta}
    projects={freelance.data.projects.map((project) => ({
      title: project.title,
      description: project.description,
      startDate: project.startDate,
      endDate: project.endDate,
      slug: project.slug,
    }))}
  />
  <ProjectCollection
    color="yellow"
    title={student.data.title}
    introduction={student.data.introduction}
    projects={student.data.projects.map((project) => ({
      title: project.title,
      description: project.description,
      startDate: project.startDate,
      endDate: project.endDate,
      slug: project.slug,
    }))}
  />
</PageLayout>
